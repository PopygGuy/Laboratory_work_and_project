# –ù–∞–ø–∏—à–µ–º –º–∏–Ω–∏-—Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫—É—é –∏–≥—Ä—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –∏–≥—Ä–æ–∫—É –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å –≥–æ—Ä–æ–¥–æ–º (SimCity –≤–∏–¥–µ–ª–∏ –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å?)
# –£ –Ω–∞—Å –µ—Å—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –∫–ª–∞—Å—Å "–≥–æ—Ä–æ–¥", –≤–Ω—É—Ç—Ä–∏ –≥–æ—Ä–æ–¥–∞ –µ—Å—Ç—å –ø–æ—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º—ã, –∫–∞–∫ –≥—Ä–∞–¥–æ–ø—Ä–∞–≤–∏—Ç–µ–ª—å, —Å—Ç—Ä–æ–∏–º.
# –¢–∞–∫–∂–µ —É –≥–æ—Ä–æ–¥–∞ –µ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã: —É—Ä–æ–≤–µ–Ω—å —Å—á–∞—Å—Ç—å—è –∂–∏—Ç–µ–ª–µ–π, —É—Ä–æ–≤–µ–Ω—å —ç–∫–æ–ª–æ–≥–∏–∏, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ (–Ω–∞ —á—Ç–æ –≤–∞—à–µ–π —Ñ–∞–Ω—Ç–∞–∑–∏–∏ —Ö–≤–∞—Ç–∏—Ç).
# –ü–æ—Å—Ç—Ä–æ–π–∫–∏ –∫ —ç—Ç–∏–º –∞—Ç—Ä–∏–±—É—Ç–∞–º –¥–æ–±–∞–≤–ª—è—é—Ç –∏ –ø—Ä–∏–±–∞–≤–ª—è—é—Ç –±–∞–ª–ª—ã. –ú–æ–∂–Ω–æ –∑–∞–≤–µ—Å—Ç–∏ —Ç–∏–ø –ø–æ—Å—Ç—Ä–æ–π–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞ –∫–∞–∂–¥–æ–º —Ö–æ–¥–µ –∏–≥—Ä—ã –ø—Ä–∏–Ω–æ—Å–∏—Ç –≤ –≥–æ—Ä–æ–¥—Å–∫–æ–π –±—é–¥–∂–µ—Ç –¥–µ–Ω—å–≥–∏ (–Ω–∞–ª–æ–≥–æ–≤–∞—è —Å–ª—É–∂–±–∞?.. –∑–∞–≤–æ–¥—ã?).
# –ü–æ—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, —É –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–æ—Å—Ç—Ä–æ–µ–∫ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤–æ–∏ –º–µ—Ç–æ–¥—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –±–æ–ª—å–Ω–∏—Ü–∞ –º–æ–∂–µ—Ç —É—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –º–µ–¥–æ—Å–º–æ—Ç—Ä—ã –∏ –≤–∞–∫—Ü–∏–Ω–∞—Ü–∏–∏ –∏ –ø–æ–¥–Ω–∏–º–∞—Ç—å —ç—Ç–∏–º —É—Ä–æ–≤–µ–Ω—å –±–ª–∞–≥–æ—Å–æ—Å—Ç–æ—è–Ω–∏—è –∂–∏—Ç–µ–ª–µ–π, –∞ –Ω–∞ –∑–∞–≤–æ–¥–µ —Å —Ä–∞–Ω–¥–æ–º–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –º–æ–∂–µ—Ç —Å–ª—É—á–∏—Ç—å—Å—è –∞–≤–∞—Ä–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–Ω–∏–∑–∏—Ç —ç–∫–æ–ª–æ–≥–∏—é.
# –ù–µ –∑–∞–±—É–¥—å—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–æ–ª–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å "–∏–≥—Ä–∞", –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –º–µ—Ç–æ–¥ play, –º–æ–∂–Ω–æ –≤ –Ω–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –∏ –≥–æ—Ä–æ–¥—Å–∫–æ–π –±—é–¥–∂–µ—Ç.

import random

class Building:
    def __init__(self, name, cost):
        self.name = name
        self.cost = cost

    def effect(self, city):
        pass

class Factory(Building):
    def __init__(self, cost, income, ecology_impact):
        super().__init__(name="–ó–∞–≤–æ–¥", cost=cost)
        self.income = income  # –î–æ—Ö–æ–¥ –æ—Ç –∑–∞–≤–æ–¥–∞
        self.ecology_impact = ecology_impact  # –í–ª–∏—è–Ω–∏–µ –Ω–∞ —ç–∫–æ–ª–æ–≥–∏—é

    def effect(self, city):
        city.budget += self.income
        city.ecology += self.ecology_impact

        # –°–ª—É—á–∞–π–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∞–≤–∞—Ä–∏–∏
        if random.random() < 0.1:  # 10% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∞–≤–∞—Ä–∏–∏
            city.ecology -= 10
            print(f"‚ö†Ô∏è –ù–∞ –∑–∞–≤–æ–¥–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –∞–≤–∞—Ä–∏—è! –≠–∫–æ–ª–æ–≥–∏—è –≥–æ—Ä–æ–¥–∞ —É—Ö—É–¥—à–∏–ª–∞—Å—å.")


class School(Building):
    def __init__(self, cost, education_bonus):
        super().__init__(name="School", cost=cost)
        self.education_bonus = education_bonus  # –ë–æ–Ω—É—Å –∫ —É—Ä–æ–≤–Ω—é –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

    def effect(self, city):
        city.education += self.education_bonus


class Hospital(Building):
    def __init__(self, cost, happiness_bonus):
        super().__init__(name="Hospital", cost=cost)
        self.happiness_bonus = happiness_bonus  # –ë–æ–Ω—É—Å –∫ —Å—á–∞—Å—Ç—å—é –∂–∏—Ç–µ–ª–µ–π

    def effect(self, city):
        city.happiness += self.happiness_bonus

        if random.random() < 0.5:  # 50% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å
            city.happiness += 2
            print(f"üè• –ü—Ä–æ–≤–µ–¥–µ–Ω –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –æ—Å–º–æ—Ç—Ä! –°—á–∞—Å—Ç—å–µ –∂–∏—Ç–µ–ª–µ–π —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å.")


class City:
    def __init__(self, name):
        self.name = name
        self.budget = 1000  # –°—Ç–∞—Ä—Ç–æ–≤—ã–π –±—é–¥–∂–µ—Ç
        self.ecology = 50  # –£—Ä–æ–≤–µ–Ω—å —ç–∫–æ–ª–æ–≥–∏–∏
        self.education = 50  # –£—Ä–æ–≤–µ–Ω—å –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
        self.happiness = 50  # –£—Ä–æ–≤–µ–Ω—å —Å—á–∞—Å—Ç—å—è
        self.buildings = []  # –ü–æ—Å—Ç—Ä–æ–π–∫–∏ –≤ –≥–æ—Ä–æ–¥–µ

    def build(self, building):
        # –ü–æ—Å—Ç—Ä–æ–π–∫–∞ –Ω–æ–≤–æ–≥–æ –≥–æ—Ä–æ–¥–∞
        if self.budget >= building.cost:
            self.budget -= building.cost
            self.buildings.append(building)
            print(f"üèóÔ∏è –ü–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–æ–≤–æ–µ –∑–¥–∞–Ω–∏–µ: {building.name}")
        else:
            print(f"‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–π–∫–∏ {building.name} (–Ω—É–∂–Ω–æ {building.cost}$)")

    def next_turn(self):
        print(f"\nüåÜ –°–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ {self.name}:")
        print(f"- –ë—é–¥–∂–µ—Ç: {self.budget}$")
        print(f"- –≠–∫–æ–ª–æ–≥–∏—è: {self.ecology}")
        print(f"- –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: {self.education}")
        print(f"- –°—á–∞—Å—Ç—å–µ: {self.happiness}")

        for building in self.buildings:
            building.effect(self)

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
        if self.ecology <= 0:
            print("üíÄ –≠–∫–æ–ª–æ–≥–∏—è –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –ñ–∏—Ç–µ–ª–∏ –ø–æ–∫–∏–¥–∞—é—Ç –≤–∞—à –≥–æ—Ä–æ–¥. –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏.")
            return False
        if self.happiness <= 0:
            print("üò¢ –ñ–∏—Ç–µ–ª–∏ –Ω–µ—Å—á–∞—Å—Ç–Ω—ã –∏ –ø–æ–∫–∏–¥–∞—é—Ç –≤–∞—à –≥–æ—Ä–æ–¥. –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏.")
            return False

        return True


class Game:
    def __init__(self):
        self.city = City(name="New City")

    def play(self):
        print("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –≥–æ—Ä–æ–¥–æ–º!")

        running = True
        while running:
            print("\n–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å?")
            print("1. –ó–∞–≤–æ–¥ (500$, –¥–æ +200$ –¥–æ—Ö–æ–¥–∞, -5 —ç–∫–æ–ª–æ–≥–∏–∏)")
            print("2. –®–∫–æ–ª–∞ (300$, +3 –∫ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é)")
            print("3. –ë–æ–ª—å–Ω–∏—Ü–∞ (400$, +5 –∫ —Å—á–∞—Å—Ç—å—é)")
            print("4. –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥")
            choice = input("> ")

            if choice == "1":
                self.city.build(Factory(cost=500, income=random.randint(100, 200), ecology_impact=-5))
            elif choice == "2":
                self.city.build(School(cost=300, education_bonus=3))
            elif choice == "3":
                self.city.build(Hospital(cost=400, happiness_bonus=5))
            elif choice == "4":
                print("‚è© –•–æ–¥ –ø—Ä–æ–ø—É—â–µ–Ω.")
            else:
                print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä!")

            # –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ö–æ–¥—É
            running = self.city.next_turn()

        print("–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")

# –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
new_game = Game()
new_game.play()